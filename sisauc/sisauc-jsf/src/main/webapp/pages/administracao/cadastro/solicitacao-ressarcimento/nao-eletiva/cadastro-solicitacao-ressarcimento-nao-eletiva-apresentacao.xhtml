<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui"
  xmlns:ui="http://java.sun.com/jsf/facelets">

  <p:panelGrid>

    <p:row>
      <p:column>
        <p:outputLabel value="Nota fiscal/recibo: *" />
      </p:column>
      <p:column>
        <p:inputText value="#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.numeroNotaFiscal}"
          id="numero"/>
        <p:watermark value="Número" for="numero" />
        <p:calendar value="#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.dataNotaFiscal}"
          id="data" size="10" pattern="dd/MM/yyyy" styleClass="margin-l-10" />
        <p:watermark value="Data" for="data" />
      </p:column>
    </p:row>

    <p:row>
      <p:column>
        <p:outputLabel value="Prestador: *" />
      </p:column>
      <p:column>
        <p:inputText value="#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.cpfCnpjPrestador}"
          id="cnpj" maxlength="14" style="margin-right: 10px;"/>
        <p:watermark value="CNPJ/CPF" for="cnpj" />
        <p:inputText value="#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.nomePrestador}"
          id="nome" size="40" styleClass="margin-l-10" />
        <p:watermark value="Nome/Razão Social" for="nome " />
      </p:column>
    </p:row>

    <p:row>
      <p:column>
        <p:outputLabel value="Nota fiscal/recibo: *" for="nota-fiscal" />
      </p:column>
      <p:column>
        <p:fileUpload fileUploadListener="#{cadastroSolicitacaoRessarcimentoFormularioBean.subirNotaFiscal}"
          mode="advanced" auto="true" id="nota-fiscal" allowTypes="/(\.|\/)(pdf|PDF)$/"
          update="nome-arquivo-nota-fiscal" invalidSizeMessage="O PDF da nota fiscal deve ser menor que 2MB!"
          sizeLimit="2000000" invalidFileMessage="O arquivo deve ser um PDF!">
        </p:fileUpload>
        <h:panelGroup id="nome-arquivo-nota-fiscal">
          
          <p:commandLink styleClass="btn btn-link" ajax="false"
            action="#{cadastroSolicitacaoRessarcimentoFormularioBean.downloadNotaFiscal}"
            rendered="#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoNotaFiscal != null and cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoNotaFiscal.id != null}">
            <span class="fa fa-download"></span>
            <span> <h:outputText value=" Arquivo: #{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoNotaFiscal.nome}" />
              <h:outputText styleClass="muted"
                value=" (#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoNotaFiscal.tamanho} bytes)" />
            </span>
          </p:commandLink>

          <h:outputText
            value="Arquivo: #{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoNotaFiscal.nome}"
            rendered="#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoNotaFiscal != null and cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoNotaFiscal.id == null}" />
          <h:outputText styleClass="muted"
            value=" (#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoNotaFiscal.tamanho} bytes)"
            rendered="#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoNotaFiscal != null and cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoNotaFiscal.id == null}" />
        </h:panelGroup>
      </p:column>
    </p:row>

    <p:row>
      <p:column>
        <p:outputLabel value="Requerimento preenchido: *" for="requerimento" />
      </p:column>
      <p:column>
        <p:fileUpload fileUploadListener="#{cadastroSolicitacaoRessarcimentoFormularioBean.subirRequerimento}" mode="advanced" auto="true"
          id="requerimento" allowTypes="/(\.|\/)(pdf|PDF)$/"
          update="nome-arquivo-requerimento"
          invalidSizeMessage="O PDF do requerimento deve ser menor que 2MB!" sizeLimit="2000000"
          invalidFileMessage="O arquivo deve ser um PDF!">
        </p:fileUpload>
        <h:panelGroup id="nome-arquivo-requerimento">
        
          <p:commandLink styleClass="btn btn-link" ajax="false"
            action="#{cadastroSolicitacaoRessarcimentoFormularioBean.downloadRequerimento}"
            rendered="#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoRequerimento != null and cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoRequerimento.id != null}">
            <span class="fa fa-download"></span>
            <span> <h:outputText value=" Arquivo: #{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoRequerimento.nome}" />
              <h:outputText styleClass="muted"
                value=" (#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoRequerimento.tamanho} bytes)" />
            </span>
          </p:commandLink>
        
          <h:outputText value="Arquivo: #{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoRequerimento.nome}"
            rendered="#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoRequerimento != null and cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoRequerimento.id == null}" />
          <h:outputText styleClass="muted"
            value=" (#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoRequerimento.tamanho} bytes)"
            rendered="#{cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoRequerimento != null and cadastroSolicitacaoRessarcimentoFormularioBean.solicitacao.apresentacao.arquivoRequerimento.id == null}" />
        </h:panelGroup>
      </p:column>
    </p:row>

  </p:panelGrid>

</ui:composition>